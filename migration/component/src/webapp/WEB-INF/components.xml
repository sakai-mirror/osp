<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans default-lazy-init="false">
   <bean id="org.theospi.portfolio.migration.OspMigrationJob.dataSource"
     parent="javax.sql.BaseDataSource">
   </bean>
   
   <bean id="org.sakaiproject.api.app.scheduler.JobBeanWrapper.ospDataMigration"
      class="org.sakaiproject.component.app.scheduler.jobs.SpringJobBeanWrapper"
      singleton="true" init-method="init">
      <property name="beanId">
         <value>org.theospi.portfolio.migration.OspMigrationJob</value>
      </property>
      <property name="jobName">
         <value>OSP Data Migration</value>
      </property>
      <property name="schedulerManager">
         <ref bean="org.sakaiproject.api.app.scheduler.SchedulerManager" />
      </property>
   </bean>
   
   <bean id="org.sakaiproject.api.app.scheduler.JobBeanWrapper.ospFormPropsUpdate"
      class="org.sakaiproject.component.app.scheduler.jobs.SpringJobBeanWrapper"
      singleton="true" init-method="init">
      <property name="beanId">
         <value>org.theospi.portfolio.migration.UpdateFormPropsJob</value>
      </property>
      <property name="jobName">
         <value>OSP Form Property Update</value>
      </property>
      <property name="schedulerManager">
         <ref bean="org.sakaiproject.api.app.scheduler.SchedulerManager" />
      </property>
   </bean>
   
   <bean id="org.theospi.portfolio.migration.UpdateFormPropsJob"
      class="org.theospi.portfolio.migration.UpdateFormPropsJob"
      singleton="true">
      <property name="contentHosting">
         <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
      </property>
   </bean>
   
   <bean id="org.theospi.portfolio.migration.OspMigrationJob"
      class="org.theospi.portfolio.migration.OspMigrationJob"
      singleton="true">
      <property name="dataSource">
         <ref bean="org.theospi.portfolio.migration.OspMigrationJob.dataSource" />
      </property>
      <property name="tableMap">
      	<map><!-- 
      		<entry key="osp_authz_simple"><value>old_osp_authz_simple</value></entry>
      		
      		<entry key="osp_help_glossary"><value>old_osp_help_glossary</value></entry>
      		<entry key="osp_help_glossary_desc"><value>old_osp_help_glossary_desc</value></entry>
      		
      		<entry key="osp_structured_artifact_def"><value>old_osp_structured_artifact_def</value></entry>
      		
      		<entry key="osp_scaffolding"><value>old_osp_scaffolding</value></entry>
      		<entry key="osp_matrix_label"><value>old_osp_matrix_label</value></entry>
      		<entry key="osp_scaffolding_criteria"><value>old_osp_scaffolding_criteria</value></entry>
      		<entry key="osp_scaffolding_levels"><value>old_osp_scaffolding_levels</value></entry>
      		<entry key="osp_scaffolding_cell"><value>old_osp_scaffolding_cell</value></entry>
      		
      		<entry key="osp_presentation_template"><value>old_osp_presentation_template</value></entry>
      		<entry key="osp_presentation_item_def"><value>old_osp_presentation_item_def</value></entry>
      		<entry key="osp_template_file_ref"><value>old_osp_template_file_ref</value></entry>
      		<entry key="osp_pres_itemdef_mimetype"><value>old_osp_pres_itemdef_mimetype</value></entry>
      		
      		<entry key="osp_presentation"><value>old_osp_presentation</value></entry>
      		<entry key="osp_presentation_comment"><value>old_osp_presentation_comment</value></entry>
      		<entry key="osp_presentation_log"><value>old_osp_presentation_log</value></entry>
      		<entry key="osp_presentation_item"><value>old_osp_presentation_item</value></entry>
      		
				<entry key="osp_matrix_tool"><value>old_osp_matrix_tool</value></entry>
      		<entry key="osp_matrix"><value>old_osp_matrix</value></entry>
      		<entry key="osp_matrix_cell"><value>old_osp_matrix_cell</value></entry>
      		<entry key="osp_cell_attachment"><value>old_osp_cell_attachment</value></entry>
      		
      		<entry key="osp_reflection"><value>OLD_OSP_REFLECTION</value></entry>
      		<entry key="osp_reflection_item"><value>OLD_OSP_REFLECTION_ITEM</value></entry>
      		<entry key="osp_expectation"><value>OLD_OSP_EXPECTATION</value></entry>
      		<entry key="osp_reviewer_item"><value>OLD_OSP_REVIEWER_ITEM</value></entry>
      		-->
      		
      		<entry key="osp_authz_simple"><value>ONC.OSP_AUTHZ_SIMPLE_BKP</value></entry>
      		
      		<entry key="osp_help_glossary"><value>ONC.OSP_HELP_GLOSSARY_BKP</value></entry>
      		<entry key="osp_help_glossary_desc"><value>ONC.OSP_HELP_GLOSSARY_DESC_BKP</value></entry>
      		
      		<entry key="osp_structured_artifact_def"><value>ONC.old_osp_structured_artifact_def</value></entry>
      		
      		<entry key="osp_scaffolding"><value>ONC.OSP_SCAFFOLDING_BKP</value></entry>
      		<entry key="osp_matrix_label"><value>ONC.OSP_MATRIX_LABEL_BKP</value></entry>
      		<entry key="osp_scaffolding_criteria"><value>ONC.OSP_SCAFFOLDING_CRITERIA_BKP</value></entry>
      		<entry key="osp_scaffolding_levels"><value>ONC.OSP_SCAFFOLDING_LEVELS_BKP</value></entry>
      		<entry key="osp_scaffolding_cell"><value>ONC.OSP_SCAFFOLDING_CELL_BKP</value></entry>
      		
      		<entry key="osp_presentation_template"><value>ONC.OSP_PRESENTATION_TEMPLATE_BKP</value></entry>
      		<entry key="osp_presentation_item_def"><value>ONC.OSP_PRESENTATION_ITEM_DEF_BKP</value></entry>
      		<entry key="osp_template_file_ref"><value>ONC.OSP_TEMPLATE_FILE_REF_BKP</value></entry>
      		<entry key="osp_pres_itemdef_mimetype"><value>ONC.OSP_PRES_ITEMDEF_MIMETYPE_BKP</value></entry>
      		
      		<entry key="osp_presentation"><value>ONC.OSP_PRESENTATION_BKP</value></entry>
      		<entry key="osp_presentation_comment"><value>ONC.OSP_PRESENTATION_COMMENT_BKP</value></entry>
      		<entry key="osp_presentation_log"><value>ONC.OSP_PRESENTATION_LOG_BKP</value></entry>
      		<entry key="osp_presentation_item"><value>ONC.OSP_PRESENTATION_ITEM_BKP</value></entry>
      		
				<entry key="osp_matrix_tool"><value>ONC.OSP_MATRIX_TOOL_BKP</value></entry>
      		<entry key="osp_matrix"><value>ONC.OSP_MATRIX_BKP</value></entry>
      		<entry key="osp_matrix_cell"><value>ONC.OSP_MATRIX_CELL_BKP</value></entry>
      		<entry key="osp_cell_attachment"><value>ONC.OSP_CELL_ATTACHMENT_BKP</value></entry>
      		
      		<entry key="osp_reflection"><value>ONC.OSP_REFLECTION_BKP</value></entry>
      		<entry key="osp_reflection_item"><value>ONC.OSP_REFLECTION_ITEM_BKP</value></entry>
      		<entry key="osp_expectation"><value>ONC.OSP_EXPECTATION_BKP</value></entry>
      		<entry key="osp_reviewer_item"><value>ONC.OSP_REVIEWER_ITEM_BKP</value></entry>
      	
      	</map>
      </property>
      <property name="authzToolFunctions">
      	<list>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.DELETE_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.EDIT_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.COPY_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.PUBLISH_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.CREATE_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.EXPORT_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		
				<bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.REVIEW_MATRIX"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.EVALUATE_MATRIX"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.CREATE_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.EXPORT_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.USE_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.PUBLISH_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      	</list>
      </property>
      <property name="matrixForms">
         <list>
            <bean class="org.theospi.portfolio.migration.model.impl.FormWrapper">
               <property name="idValue"><value>expectationForm</value></property>
               <property name="description"><value>Expectation</value></property>
               <property name="documentRoot"><value>expectationform</value></property>
               <property name="xsdFileLocation">
                  <value>/org/theospi/portfolio/migration/forms/expectation.xsd</value>
               </property>
               <property name="siteId"><value></value></property>
               <property name="externalType"><value>?expectationform</value></property>
               <property name="instruction"><value></value></property>
            </bean>
            <bean class="org.theospi.portfolio.migration.model.impl.FormWrapper">
               <property name="idValue"><value>intellectualGrowthForm</value></property>
               <property name="description"><value>Intellectual Growth</value></property>
               <property name="documentRoot"><value>intellectualgrowthform</value></property>
               <property name="xsdFileLocation">
                  <value>/org/theospi/portfolio/migration/forms/intellectualgrowth.xsd</value>
               </property>
               <property name="siteId"><value></value></property>
               <property name="externalType"><value>?intellectualgrowthform</value></property>
               <property name="instruction"><value></value></property>
            </bean>
            <bean class="org.theospi.portfolio.migration.model.impl.FormWrapper">
               <property name="idValue"><value>feedbackForm</value></property>
               <property name="description"><value>Feedback</value></property>
               <property name="documentRoot"><value>feedbackform</value></property>
               <property name="xsdFileLocation">
                  <value>/org/theospi/portfolio/migration/forms/feedback.xsd</value>
               </property>
               <property name="siteId"><value></value></property>
               <property name="externalType"><value>?feedbackform</value></property>
               <property name="instruction"><value></value></property>
            </bean>
            <bean class="org.theospi.portfolio.migration.model.impl.FormWrapper">
               <property name="idValue"><value>evaluationForm</value></property>
               <property name="description"><value>Evaluation</value></property>
               <property name="documentRoot"><value>evaluationform</value></property>
               <property name="xsdFileLocation">
                  <value>/org/theospi/portfolio/migration/forms/evaluationform.xsd</value>
               </property>
               <property name="siteId"><value></value></property>
               <property name="externalType"><value>?evaluationform</value></property>
               <property name="instruction"><value></value></property>
            </bean>
         </list>
      </property>
      <property name="idManager"><ref bean="idManager"/></property>
      <property name="authzManager"><ref bean="authzManager"/></property>
      <property name="agentManager"><ref bean="agentManager"/></property>
      <property name="glossaryManager"><ref bean="glossary"/></property>
      <property name="guidanceManager"><ref bean="org.theospi.portfolio.guidance.mgt.GuidanceManager"/></property>
      <property name="structuredArtifactDefinitionManager">
         <ref bean="structuredArtifactDefinitionManager"/>
      </property>
      <property name="matrixManager"><ref bean="matrixManager"/></property>
      <property name="reviewManager"><ref bean="org.theospi.portfolio.review.mgt.ReviewManager"/></property>
      <property name="presentationManager"><ref bean="presentationManager"/></property>
      <property name="siteService"><ref bean="org.sakaiproject.site.api.SiteService"/></property>
      <property name="securityService">
         <ref bean="org.sakaiproject.authz.api.SecurityService"/>
      </property>
      <property name="contentHosting">
         <ref bean="org.sakaiproject.content.api.ContentHostingService"/>
      </property>
      <property name="defaultScaffoldingBean">
         <ref bean="defaultScaffoldingBean"/>
      </property>
      <property name="workflowManager">
         <ref bean="org.theospi.portfolio.workflow.mgt.WorkflowManager"/>
      </property>
   </bean>
</beans>