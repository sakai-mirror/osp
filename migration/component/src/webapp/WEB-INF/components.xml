<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans default-lazy-init="false">
   <bean id="org.theospi.portfolio.migration.OspMigrationJob.dataSource"
     parent="javax.sql.BaseDataSource">
   </bean>
   
   <bean id="org.sakaiproject.api.app.scheduler.JobBeanWrapper.ospDataMigration"
      class="org.sakaiproject.component.app.scheduler.jobs.SpringJobBeanWrapper"
      singleton="true" init-method="init">
      <property name="beanId">
         <value>org.theospi.portfolio.migration.OspMigrationJob</value>
      </property>
      <property name="jobName">
         <value>OSP Data Migration</value>
      </property>
      <property name="schedulerManager">
         <ref bean="org.sakaiproject.api.app.scheduler.SchedulerManager" />
      </property>
   </bean>
   
   <bean id="org.theospi.portfolio.migration.OspMigrationJob"
      class="org.theospi.portfolio.migration.OspMigrationJob"
      singleton="true">
      <property name="dataSource">
         <ref bean="org.theospi.portfolio.migration.OspMigrationJob.dataSource" />
      </property>
      <property name="tableMap">
      	<map>
      		<entry key="osp_authz_simple"><value>old_osp_authz_simple</value></entry>
      		
      		<entry key="osp_help_glossary"><value>old_osp_help_glossary</value></entry>
      		<entry key="osp_help_glossary_desc"><value>old_osp_help_glossary_desc</value></entry>
      		
      		<entry key="osp_structured_artifact_def"><value>old_osp_structured_artifact_def</value></entry>
      		
      		<entry key="osp_scaffolding"><value>old_osp_scaffolding</value></entry>
      		<entry key="osp_matrix_label"><value>old_osp_matrix_label</value></entry>
      		<entry key="osp_scaffolding_criteria"><value>old_osp_scaffolding_criteria</value></entry>
      		<entry key="osp_scaffolding_levels"><value>old_osp_scaffolding_levels</value></entry>
      		<entry key="osp_scaffolding_cell"><value>old_osp_scaffolding_cell</value></entry>
      		
      		<entry key="osp_presentation_template"><value>old_osp_presentation_template</value></entry>
      		<entry key="osp_presentation_item_def"><value>old_osp_presentation_item_def</value></entry>
      		<entry key="osp_template_file_ref"><value>old_osp_template_file_ref</value></entry>
      		<entry key="osp_pres_itemdef_mimetype"><value>old_osp_pres_itemdef_mimetype</value></entry>
      		
      		<entry key="osp_presentation"><value>old_osp_presentation</value></entry>
      		<entry key="osp_presentation_comment"><value>old_osp_presentation_comment</value></entry>
      		<entry key="osp_presentation_log"><value>old_osp_presentation_log</value></entry>
      		<entry key="osp_presentation_item"><value>old_osp_presentation_item</value></entry>
      		
				<entry key="osp_matrix_tool"><value>old_osp_matrix_tool</value></entry>
      		<entry key="osp_matrix"><value>old_osp_matrix</value></entry>
      		<entry key="osp_matrix_cell"><value>old_osp_matrix_cell</value></entry>
      		
      	
      	</map>
      </property>
      <property name="authzToolFunctions">
      	<list>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.DELETE_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.EDIT_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.COPY_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.PUBLISH_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.CREATE_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		<bean id="org.theospi.portfolio.presentation.PresentationFunctionConstants.EXPORT_TEMPLATE"
      			class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      		
				<bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.REVIEW_MATRIX"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.EVALUATE_MATRIX"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.CREATE_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.EXPORT_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.USE_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
            <bean id="org.theospi.portfolio.matrix.MatrixFunctionConstants.PUBLISH_SCAFFOLDING"
               class="org.springframework.beans.factory.config.FieldRetrievingFactoryBean"/>
      	</list>
      	</property>
      <property name="idManager"><ref bean="idManager"/></property>
      <property name="authzManager"><ref bean="authzManager"/></property>
      <property name="agentManager"><ref bean="agentManager"/></property>
      <property name="glossaryManager"><ref bean="glossary"/></property>
      <property name="structuredArtifactDefinitionManager">
         <ref bean="structuredArtifactDefinitionManager"/>
      </property>
      <property name="matrixManager"><ref bean="matrixManager"/></property>
      <property name="presentationManager"><ref bean="presentationManager"/></property>
      <property name="siteService"><ref bean="org.sakaiproject.site.api.SiteService"/></property>
   </bean>
</beans>